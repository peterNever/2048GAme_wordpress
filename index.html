<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ü—Ä–æ–µ–∫—Ç –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ ‚Äî –ò–≥—Ä–∞ 2048</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#0f172a,#020617);
    color:white;
    text-align:center;
}

header{
    padding:30px;
    font-size:32px;
    font-weight:bold;
    background:#020617;
    box-shadow:0 0 20px black;
}

.container{
    max-width:1000px;
    margin:auto;
    padding:30px;
}

.card{
    background:#111827;
    padding:25px;
    border-radius:20px;
    margin:20px 0;
    box-shadow:0 0 25px rgba(0,0,0,0.6);
}

button{
    padding:18px 35px;
    font-size:20px;
    border:none;
    border-radius:12px;
    background:linear-gradient(45deg,#22c55e,#16a34a);
    color:white;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    transform:scale(1.05);
}

#game{
    margin-top:30px;
}

/* ===== –°–¢–ò–õ–ò –ò–ì–†–´ ===== */
.grid {
  display: grid;
  grid-template-columns: repeat(4, 80px);
  grid-gap: 10px;
  justify-content: center;
  margin-top:20px;
}

.cell {
  width: 80px;
  height: 80px;
  background: #1f2937;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  font-weight: bold;
  border-radius: 10px;
}

.score{
  font-size:22px;
  margin-top:15px;
}
</style>
</head>

<body>

<header>
–ü—Ä–æ–µ–∫—Ç –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ: –∏–≥—Ä–∞ 2048
</header>

<div class="container">

<div class="card">
<h2>–û –ø—Ä–æ–µ–∫—Ç–µ</h2>
<p>
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ —è–∑—ã–∫–µ HTML, CSS –∏ JavaScript.  
–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Å–æ–∑–¥–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∏–≥—Ä—É 2048 –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤—ã–∫–∏ –≤–µ–±-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.
</p>

<p>
–í —Ö–æ–¥–µ —Ä–∞–±–æ—Ç—ã –±—ã–ª–∏ –∏–∑—É—á–µ–Ω—ã:
<br>‚Ä¢ –æ—Å–Ω–æ–≤—ã JavaScript  
<br>‚Ä¢ —Ä–∞–±–æ—Ç–∞ —Å DOM  
<br>‚Ä¢ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–∞–π—Ç–∞  
<br>‚Ä¢ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ GitHub Pages
</p>

<button onclick="startGame()">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É</button>
</div>

<div id="game"></div>

</div>

<script>
let grid = [];
let score = 0;

function startGame(){
document.getElementById("game").innerHTML = `
<div class="card">
<h2>–ò–≥—Ä–∞ 2048</h2>
<div class="score">–û—á–∫–∏: <span id="score">0</span></div>
<div class="grid" id="grid"></div>
<p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ</p>
</div>
`;
init();
}

function init(){
grid = [
[0,0,0,0],
[0,0,0,0],
[0,0,0,0],
[0,0,0,0]
];
score = 0;
add();
add();
draw();
}

function draw(){
const gridEl = document.getElementById("grid");
gridEl.innerHTML="";

for(let i=0;i<4;i++){
for(let j=0;j<4;j++){

let val = grid[i][j];
let cell=document.createElement("div");
cell.className="cell";
cell.textContent = val===0 ? "" : val;

const colors={
2:"#eee4da",
4:"#ede0c8",
8:"#f2b179",
16:"#f59563",
32:"#f67c5f",
64:"#f65e3b",
128:"#edcf72",
256:"#edcc61",
512:"#edc850",
1024:"#edc53f",
2048:"#edc22e"
};

if(val){
cell.style.background = colors[val] || "#3b82f6";
cell.style.color = val<=4 ? "#000" : "#fff";
}

gridEl.appendChild(cell);
}
}

document.getElementById("score").textContent=score;
}

function add(){
let empty=[];
for(let i=0;i<4;i++){
for(let j=0;j<4;j++){
if(grid[i][j]===0) empty.push({i,j});
}}
if(empty.length===0) return;
let r = empty[Math.floor(Math.random()*empty.length)];
grid[r.i][r.j]= Math.random()>0.9?4:2;
}

document.addEventListener("keydown", e=>{
if(!document.getElementById("grid")) return;

if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){
e.preventDefault();
}

let moved=false;

if(e.key==="ArrowLeft") moved=moveLeft();
if(e.key==="ArrowRight") moved=moveRight();
if(e.key==="ArrowUp") moved=moveUp();
if(e.key==="ArrowDown") moved=moveDown();

if(moved){
add();
draw();
}
});

function moveLeft(){
let moved=false;
for(let i=0;i<4;i++){
let arr = grid[i].filter(x=>x);
for(let j=0;j<arr.length-1;j++){
if(arr[j]===arr[j+1]){
arr[j]*=2;
score+=arr[j];
arr[j+1]=0;
}
}
arr = arr.filter(x=>x);
while(arr.length<4) arr.push(0);
if(grid[i].join()!=arr.join()) moved=true;
grid[i]=arr;
}
return moved;
}

function moveRight(){
rotate();rotate();
let m=moveLeft();
rotate();rotate();
return m;
}

function moveUp(){
rotate();rotate();rotate();
let m=moveLeft();
rotate();
return m;
}

function moveDown(){
rotate();
let m=moveLeft();
rotate();rotate();rotate();
return m;
}

function rotate(){
let newGrid=[[],[],[],[]];
for(let i=0;i<4;i++)
for(let j=0;j<4;j++)
newGrid[i][j]=grid[3-j][i];
grid=newGrid;
}
</script>


</body>
</html>


